# Руководство пользователя

## Введение

Система контроля доступа и учета рабочего времени на базе терминалов Hikvision с распознаванием лиц. Эта инструкция поможет вам научиться работать с веб-интерфейсом системы.

---

## Вход в систему

1. Откройте веб-интерфейс системы в браузере
2. На странице входа введите:
   - **Имя пользователя** - ваш логин
   - **Пароль** - ваш пароль
3. Нажмите кнопку **"Войти"**

Если данные введены правильно, вы будете перенаправлены на главную страницу системы.

---

## Главное меню

После входа в систему вы увидите боковое меню со следующими разделами:

- **Сотрудники** - управление сотрудниками
- **События** - просмотр событий входа/выхода
- **Отчеты** - просмотр отчетов по посещаемости
- **Смены** - управление рабочими сменами (только для Operations Manager)
- **Настройки** - настройка устройств (только для Operations Manager)
- **Пользователи** - управление пользователями системы (только для Operations Manager)

---

## Управление сотрудниками

### Просмотр списка сотрудников

1. Перейдите в раздел **"Сотрудники"** в боковом меню
2. На странице отобразится список всех сотрудников с информацией:
   - ФИО
   - ID сотрудника
   - Отдел
   - Роль
   - Статус синхронизации с терминалом
   - Фото (если загружено)

### Добавление нового сотрудника

1. На странице **"Сотрудники"** нажмите кнопку **"Добавить сотрудника"**
2. Заполните форму:
   - **ID сотрудника** - уникальный идентификатор (только латинские буквы, цифры, дефисы и подчеркивания, максимум 32 символа)
   - **ФИО** - полное имя сотрудника
   - **Отдел** - название отдела (необязательно)
   - **Роль** - выберите роль из списка (необязательно, по умолчанию "Cleaner")
3. **Загрузка фото:**
   
   **Вариант 1: Захват фото с терминала (рекомендуется)**
   - Нажмите кнопку **"Захватить фото с терминала"**
   - Выберите устройство из списка
   - Подойдите к терминалу и предъявите лицо к камере в течение 5-10 секунд
   - Дождитесь сообщения об успешном захвате фото
   
   **Вариант 2: Загрузка фото файлом**
   - Нажмите кнопку **"Выбрать файл"** или перетащите файл в область загрузки
   - Выберите изображение с лица сотрудника
4. Нажмите кнопку **"Сохранить"**
5. После сохранения нажмите кнопку **"Синхронизировать с терминалом"** для добавления сотрудника на терминал

### Редактирование сотрудника

1. Найдите нужного сотрудника в списке
2. Нажмите кнопку **"Редактировать"** (иконка карандаша)
3. Измените нужные поля
4. Нажмите кнопку **"Сохранить"**

### Просмотр статистики сотрудника

1. Найдите нужного сотрудника в списке
2. Нажмите кнопку **"Статистика"**
3. Откроется окно со статистикой:
   - Общее количество событий
   - Количество входов и выходов
   - Первое и последнее событие
   - События за последние 30 дней, 7 дней и сегодня

### Удаление сотрудника

1. Найдите нужного сотрудника в списке
2. Нажмите кнопку **"Удалить"** (иконка корзины)
3. Подтвердите удаление в диалоговом окне

---

## Просмотр событий

### Просмотр событий входа/выхода

1. Перейдите в раздел **"События"** в боковом меню
2. Выберите устройство из списка (если их несколько)
3. Выберите период:
   - **Начальная дата** - с какой даты показывать события
   - **Конечная дата** - до какой даты показывать события
4. Нажмите кнопку **"Загрузить события"** или события загрузятся автоматически
5. В таблице отображаются:
   - Дата и время события
   - Имя сотрудника
   - ID сотрудника
   - Тип события (Вход/Выход)
   - IP адрес терминала

### Фильтрация событий

- Установите галочку **"Только сотрудники"** для отображения только событий зарегистрированных сотрудников
- Используйте поиск для быстрого поиска по имени или ID

### Экспорт событий

1. На странице **"События"** нажмите кнопку **"Экспорт"**
2. Выберите формат:
   - **PDF** - для печати
   - **Excel** - для работы в таблицах

---

## Просмотр отчетов

### Просмотр дневного отчета

1. Перейдите в раздел **"Отчеты"** в боковом меню
2. Выберите дату в календаре или введите дату вручную
3. Отчет загрузится автоматически
4. Отчет показывает:
   - Список смен
   - Для каждой смены - список сотрудников
   - Для каждого сотрудника:
     - Время начала смены
     - Время первого входа
     - Опоздание (если есть)
     - Время последнего выхода
     - Отработанные часы (в смене и вне смены)
     - Статус (Присутствовал/Прогул)

### Просмотр деталей по смене

1. В отчете нажмите на название смены
2. Откроется детальная информация о сотрудниках этой смены

### Экспорт отчета

1. На странице **"Отчеты"** нажмите кнопку **"Экспорт"**
2. Выберите формат:
   - **PDF** - для печати
   - **Excel** - для работы в таблицах

---

## Управление рабочими сменами

> **Примечание:** Эта функция доступна только для пользователей с ролью Operations Manager.

### Просмотр смен

1. Перейдите в раздел **"Смены"** в боковом меню
2. Отобразится список всех рабочих смен

### Создание новой смены

1. На странице **"Смены"** нажмите кнопку **"Создать смену"**
2. Заполните форму:
   - **Название** - название смены (например, "Утренняя смена")
   - **Описание** - описание смены (необязательно)
   - **Расписание** - настройте расписание для каждого дня недели:
     - Включите/выключите день недели
     - Укажите время начала (например, 09:00)
     - Укажите время окончания (например, 18:00)
3. Нажмите кнопку **"Сохранить"**

### Назначение сотрудника на смену

1. Найдите нужную смену в списке
2. Нажмите кнопку **"Назначить сотрудника"**
3. Выберите сотрудника из списка
4. Укажите период действия:
   - **Дата начала** - с какой даты действует назначение
   - **Дата окончания** - до какой даты действует назначение (можно оставить пустым для бессрочного назначения)
5. Нажмите кнопку **"Сохранить"**

### Редактирование смены

1. Найдите нужную смену в списке
2. Нажмите кнопку **"Редактировать"**
3. Измените нужные параметры
4. Нажмите кнопку **"Сохранить"**

### Удаление смены

1. Найдите нужную смену в списке
2. Нажмите кнопку **"Удалить"**
3. Подтвердите удаление в диалоговом окне

---

## Настройка устройств

> **Примечание:** Эта функция доступна только для пользователей с ролью Operations Manager.

### Просмотр устройств

1. Перейдите в раздел **"Настройки"** в боковом меню
2. Отобразится список всех настроенных терминалов

### Добавление нового устройства

1. На странице **"Настройки"** нажмите кнопку **"Добавить устройство"**
2. Заполните форму:
   - **Название** - название устройства (например, "Терминал Вход")
   - **IP адрес** - IP адрес терминала в сети
   - **Логин** - имя пользователя для доступа к терминалу (обычно "admin")
   - **Пароль** - пароль для доступа к терминалу
3. Нажмите кнопку **"Сохранить"**

### Проверка статуса устройства

1. Найдите нужное устройство в списке
2. Нажмите кнопку **"Проверить статус"**
3. Система покажет:
   - Подключено ли устройство
   - Информацию об устройстве (модель, версия прошивки)
   - Ошибки подключения (если есть)

### Настройка webhook на устройстве

1. Найдите нужное устройство в списке
2. Нажмите кнопку **"Настроить webhook"**
3. Система автоматически настроит терминал для отправки событий на сервер

### Редактирование устройства

1. Найдите нужное устройство в списке
2. Нажмите кнопку **"Редактировать"**
3. Измените нужные параметры
4. Нажмите кнопку **"Сохранить"**

---

## Управление пользователями системы

> **Примечание:** Эта функция доступна только для пользователей с ролью Operations Manager.

### Просмотр пользователей

1. Перейдите в раздел **"Пользователи"** в боковом меню
2. Отобразится список всех пользователей системы

### Создание нового пользователя

1. На странице **"Пользователи"** нажмите кнопку **"Добавить пользователя"**
2. Заполните форму:
   - **Имя пользователя** - логин для входа
   - **Пароль** - пароль для входа
   - **Email** - электронная почта (необязательно)
   - **Полное имя** - полное имя пользователя (необязательно)
   - **Роль** - выберите роль из списка
   - **Активен** - включите/выключите пользователя
3. Нажмите кнопку **"Сохранить"**

### Редактирование пользователя

1. Найдите нужного пользователя в списке
2. Нажмите кнопку **"Редактировать"**
3. Измените нужные параметры
4. Нажмите кнопку **"Сохранить"**

### Удаление пользователя

1. Найдите нужного пользователя в списке
2. Нажмите кнопку **"Удалить"**
3. Подтвердите удаление в диалоговом окне

---

## Горячие клавиши

Для быстрой навигации по системе можно использовать горячие клавиши:

- **Ctrl + 1** - переход на страницу "Сотрудники"
- **Ctrl + 2** - переход на страницу "События"
- **Ctrl + 3** - переход на страницу "Отчеты"
- **Ctrl + 4** - переход на страницу "Настройки"

---

## Часто задаваемые вопросы

### Как добавить фото сотрудника на терминал?

Рекомендуется использовать функцию **"Захватить фото с терминала"**:
1. При создании или редактировании сотрудника нажмите "Захватить фото с терминала"
2. Выберите устройство
3. Подойдите к терминалу и предъявите лицо к камере
4. После успешного захвата сохраните сотрудника и синхронизируйте с терминалом

### Почему сотрудник не может пройти через терминал?

Проверьте:
1. Синхронизирован ли сотрудник с терминалом (должна быть зеленая галочка)
2. Загружено ли фото сотрудника
3. Активен ли сотрудник в системе
4. Подключено ли устройство (проверьте статус в настройках)

### Как посмотреть отчет за другую дату?

На странице "Отчеты" выберите нужную дату в календаре или введите дату вручную в формате ДД.ММ.ГГГГ.

### Как экспортировать данные?

На страницах "События" и "Отчеты" есть кнопка "Экспорт", которая позволяет сохранить данные в формате PDF или Excel.

### Что делать, если устройство не подключается?

1. Проверьте IP адрес устройства в настройках
2. Проверьте логин и пароль
3. Убедитесь, что устройство включено и доступно в сети
4. Проверьте статус устройства через кнопку "Проверить статус"

---

## Выход из системы

Для выхода из системы нажмите на ваше имя в правом верхнем углу и выберите **"Выйти"**.

---

## Поддержка

Если у вас возникли вопросы или проблемы при работе с системой, обратитесь к администратору системы.

