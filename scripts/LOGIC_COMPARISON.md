# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

## üìã –í–∞—à–∞ –æ–ø–∏—Å–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ vs –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

---

## ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢ –ü–†–ê–í–ò–õ–¨–ù–û:

### 1. **–ù–∞—á–∞–ª–æ —Å–º–µ–Ω—ã (09:00)**
- ‚úÖ **–ï–°–¢–¨**: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å–º–µ–Ω –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –ë–î
- ‚úÖ **–ï–°–¢–¨**: –°–º–µ–Ω–∞ –º–æ–∂–µ—Ç –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è (09:00, 18:00 –∏ —Ç.–¥.)
- üìç **–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –∫–æ–¥–µ**: `backend/app/models.py` ‚Üí `WorkShift.schedule`

### 2. **–û–ø–æ–∑–¥–∞–Ω–∏–µ**
- ‚úÖ **–ï–°–¢–¨**: –ï—Å–ª–∏ –≤—Ö–æ–¥ –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ —Å–º–µ–Ω—ã ‚Üí —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ–ø–æ–∑–¥–∞–Ω–∏–µ –≤ –º–∏–Ω—É—Ç–∞—Ö
- ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**: `delay_minutes = (first_entry_time - shift_start_time)`
- üìç **–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –∫–æ–¥–µ**: `backend/app/main.py` —Å—Ç—Ä–æ–∫–∏ 2129-2139

### 3. **–û—Ç–∫—Ä—ã—Ç–∏–µ —Å–µ—Å—Å–∏–∏**
- ‚úÖ **–ï–°–¢–¨**: –°–æ–±—ã—Ç–∏–µ `entry` –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–µ—Å—Å–∏—é
- üìç **–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –∫–æ–¥–µ**: `backend/app/utils/hours_calculation.py` ‚Üí `parse_sessions_from_events()`

### 4. **–ü–∞—É–∑–∞ —Å–µ—Å—Å–∏–∏ (–≤—ã—Ö–æ–¥)**
- ‚úÖ **–ï–°–¢–¨**: –°–æ–±—ã—Ç–∏–µ `exit` –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é
- ‚úÖ **–ï–°–¢–¨**: –°–ª–µ–¥—É—é—â–∏–π `entry` –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é (–≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã)
- üìç **–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –∫–æ–¥–µ**: `hours_calculation.py` —Å—Ç—Ä–æ–∫–∏ 481-492

### 5. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ "–≤ —Å–º–µ–Ω–µ" –∏ "–≤–Ω–µ —Å–º–µ–Ω—ã"**
- ‚úÖ **–ï–°–¢–¨**: –°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–¥–µ–ª—è–µ—Ç:
  - `hours_in_shift` - —á–∞—Å—ã –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Å–º–µ–Ω—ã
  - `hours_outside_shift` - —á–∞—Å—ã –≤–Ω–µ —Å–º–µ–Ω—ã
- üìç **–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –∫–æ–¥–µ**: `hours_calculation.py` ‚Üí `calculate_hours_for_sessions()`

---

## ‚ùå –ß–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢ / –û–¢–°–£–¢–°–¢–í–£–ï–¢:

### 6. **–ó–∞–∫—Ä—ã—Ç–∏–µ —Å–º–µ–Ω—ã ¬±5 –º–∏–Ω—É—Ç –æ—Ç –∫–æ–Ω—Ü–∞**
‚ùå **–ù–ï–¢**: –õ–æ–≥–∏–∫–∞ "–µ—Å–ª–∏ –≤—ã—Ö–æ–¥ –≤ –ø–µ—Ä–∏–æ–¥ ¬±5 –º–∏–Ω—É—Ç –æ—Ç –∫–æ–Ω—Ü–∞ —Å–º–µ–Ω—ã = —Å–µ—Å—Å–∏—è –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è"

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –°–µ—Å—Å–∏—è –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –∫–æ–≥–¥–∞ –µ—Å—Ç—å —Å–æ–±—ã—Ç–∏–µ `exit`
- –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –æ–∫–æ–ª–æ –∫–æ–Ω—Ü–∞ —Å–º–µ–Ω—ã

**–ü—Ä–æ–±–ª–µ–º–∞:**
```
–°–º–µ–Ω–∞: 09:00 - 18:00
–í—ã—Ö–æ–¥: 18:03 (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö +5 –º–∏–Ω—É—Ç)
–¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞: –°—á–∏—Ç–∞–µ—Ç 18:03 –∫–∞–∫ –≤–Ω–µ —Å–º–µ–Ω—ã
–î–æ–ª–∂–Ω–æ –±—ã—Ç—å: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã—Ç—å –≤ 18:00
```

---

### 7. **–¢–∞–π–º–µ—Ä "–≤–Ω–µ —Å–º–µ–Ω—ã" –¥–ª—è –ø–æ–∑–¥–Ω–µ–≥–æ –≤—ã—Ö–æ–¥–∞**
‚ö†Ô∏è **–ß–ê–°–¢–ò–ß–ù–û –ï–°–¢–¨**: –°–∏—Å—Ç–µ–º–∞ —Å—á–∏—Ç–∞–µ—Ç —á–∞—Å—ã –≤–Ω–µ —Å–º–µ–Ω—ã, –Ω–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ "–ø–æ–∑–¥–Ω–∏–π –≤—ã—Ö–æ–¥"

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
```
–í—ã—Ö–æ–¥ –≤ 19:00 (—á–µ—Ä–µ–∑ —á–∞—Å –ø–æ—Å–ª–µ –∫–æ–Ω—Ü–∞ —Å–º–µ–Ω—ã)
–°–∏—Å—Ç–µ–º–∞: –î–æ–±–∞–≤–ª—è–µ—Ç 1 —á–∞—Å –≤ "hours_outside_shift"
–í–∞—à–∞ –ª–æ–≥–∏–∫–∞: –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π "—Ç–∞–π–º–µ—Ä –≤–Ω–µ —Å–º–µ–Ω—ã"
```

**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:**
- –§–ª–∞–≥ "–ø–æ–∑–¥–Ω–∏–π –≤—ã—Ö–æ–¥"
- –û—Ç–¥–µ–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å/–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–ª—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏

---

### 8. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram –æ –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–µ—Å—Å–∏—è—Ö**
‚ùå **–ù–ï–¢**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ï—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è `auto_close_old_sessions()` (–∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ —Å–µ—Å—Å–∏–∏ –≤ 00:01)
- –ù–û: –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```python
# –í 00:00 –µ—Å–ª–∏ —Å–µ—Å—Å–∏—è –Ω–µ –∑–∞–∫—Ä—ã—Ç–∞:
1. –ü–æ—Å—Ç–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å "–Ω–µ–∑–∞–∫—Ä—ã—Ç–∞—è —Å–µ—Å—Å–∏—è"
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram:
   "‚ö†Ô∏è –ù–µ–∑–∞–∫—Ä—ã—Ç–∞—è —Å–µ—Å—Å–∏—è: Zulfi, –≤—Ö–æ–¥ –≤ 09:15"
3. –ó–∞—Ç–µ–º –≤ 00:01 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã—Ç—å
```

---

## üîß –ß–¢–û –ù–£–ñ–ù–û –ò–ó–ú–ï–ù–ò–¢–¨:

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 1: –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç—å ¬±5 –º–∏–Ω—É—Ç –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è —Å–º–µ–Ω—ã

**–§–∞–π–ª:** `backend/app/utils/hours_calculation.py`

**–õ–æ–≥–∏–∫–∞:**
```python
SHIFT_END_TOLERANCE = 10  # –º–∏–Ω—É—Ç

# –ï—Å–ª–∏ –≤—ã—Ö–æ–¥ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö ¬±5 –º–∏–Ω—É—Ç –æ—Ç –∫–æ–Ω—Ü–∞ —Å–º–µ–Ω—ã:
if abs((exit_time - shift_end).total_seconds() / 60) <= SHIFT_END_TOLERANCE:
    # –°—á–∏—Ç–∞—Ç—å –∫–∞–∫ –≤—ã—Ö–æ–¥ —Ç–æ—á–Ω–æ –≤ –∫–æ–Ω–µ—Ü —Å–º–µ–Ω—ã
    exit_time = shift_end
```

---

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2: –î–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ "–ø–æ–∑–¥–Ω–∏–π –≤—ã—Ö–æ–¥"

**–§–∞–π–ª:** `backend/app/schemas.py`

**–ù–æ–≤–æ–µ –ø–æ–ª–µ –≤ –æ—Ç—á–µ—Ç–µ:**
```python
class ShiftDayEmployee(BaseModel):
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è ...
    late_exit: bool = False  # –í—ã—à–µ–ª –ø–æ–∑–∂–µ –∫–æ–Ω—Ü–∞ —Å–º–µ–Ω—ã
    overtime_minutes: Optional[int] = None  # –ú–∏–Ω—É—Ç –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏
```

---

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 3: –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –æ –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–µ—Å—Å–∏—è—Ö

**–§–∞–π–ª:** `backend/app/tasks/auto_close_sessions.py`

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**
```python
async def check_unclosed_sessions_at_midnight():
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ 00:00 –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"""
    unclosed_sessions = []
    
    for user in users:
        last_event = get_last_event(user)
        if last_event.event_type == 'entry':
            # –°–µ—Å—Å–∏—è –Ω–µ –∑–∞–∫—Ä—ã—Ç–∞!
            unclosed_sessions.append({
                'user': user.full_name,
                'entry_time': last_event.timestamp
            })
    
    # –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram
    if unclosed_sessions and telegram_bot:
        message = "‚ö†Ô∏è –ù–ï–ó–ê–ö–†–´–¢–´–ï –°–ï–°–°–ò–ò:\n\n"
        for session in unclosed_sessions:
            message += f"‚Ä¢ {session['user']}: –≤—Ö–æ–¥ –≤ {session['entry_time']}\n"
        
        await telegram_bot.send_message(message)
```

---

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 4: –î–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–∞–π–º–µ—Ä–∞

**–î–æ–±–∞–≤–∏—Ç—å –≤ —Ä–∞—Å—á–µ—Ç —á–∞—Å–æ–≤:**
```python
# –í–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ "hours_outside_shift":
hours_before_shift: float = 0.0  # –î–æ –Ω–∞—á–∞–ª–∞ —Å–º–µ–Ω—ã (—Ä–∞–Ω–Ω–∏–π –ø—Ä–∏—Ö–æ–¥)
hours_after_shift: float = 0.0   # –ü–æ—Å–ª–µ –∫–æ–Ω—Ü–∞ —Å–º–µ–Ω—ã (–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞)
```

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –¢–ê–ë–õ–ò–¶–ê –†–ê–°–•–û–ñ–î–ï–ù–ò–ô:

| –§—É–Ω–∫—Ü–∏—è | –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ | –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|---------|-------------|-------------------|---------|
| –ù–∞—á–∞–ª–æ —Å–º–µ–Ω—ã (09:00) | ‚úÖ –ï—Å—Ç—å | ‚úÖ –ï—Å—Ç—å | ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç |
| –û–ø–æ–∑–¥–∞–Ω–∏–µ | ‚úÖ –°—á–∏—Ç–∞–µ—Ç—Å—è | ‚úÖ –°—á–∏—Ç–∞–µ—Ç—Å—è | ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç |
| –û—Ç–∫—Ä—ã—Ç–∏–µ —Å–µ—Å—Å–∏–∏ | ‚úÖ Entry | ‚úÖ Entry | ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç |
| –ü–∞—É–∑–∞/–í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ | ‚úÖ Exit/Entry | ‚úÖ Exit/Entry | ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç |
| –ó–∞–∫—Ä—ã—Ç–∏–µ ¬±10 –º–∏–Ω | ‚úÖ –ê–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û** |
| –¢–∞–π–º–µ—Ä –≤–Ω–µ —Å–º–µ–Ω—ã | ‚úÖ –û—Ç–¥–µ–ª—å–Ω–æ | ‚úÖ –û–±—â–∏–π (–æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å) | ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç |
| –ù–µ–∑–∞–∫—Ä—ã—Ç–∞—è –≤ 00:00 | ‚úÖ –°—Ç–∞—Ç—É—Å+—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û** |
| Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | ‚úÖ –î–æ–ª–∂–Ω—ã –±—ã—Ç—å | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û** |

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢–´ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò:

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. ‚úÖ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–µ—Å—Å–∏—è—Ö
2. ‚úÖ –¢–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç—å ¬±10 –º–∏–Ω—É—Ç –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è —Å–º–µ–Ω—ã

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
3. ‚ö†Ô∏è –§–ª–∞–≥ "–ø–æ–∑–¥–Ω–∏–π –≤—ã—Ö–æ–¥" –∏ –º–∏–Ω—É—Ç—ã –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏
4. ‚ö†Ô∏è –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —á–∞—Å–æ–≤: –¥–æ —Å–º–µ–Ω—ã / –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
5. üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–ø–æ–∑–¥–∞–Ω–∏–π –∏ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–æ–∫

---

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:

1. **–°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è
2. **–ó–∞—Ç–µ–º –ª–æ–≥–∏–∫—É ¬±10 –º–∏–Ω—É—Ç** - —ç—Ç–æ —É–ª—É—á—à–∏—Ç —Ç–æ—á–Ω–æ—Å—Ç—å —É—á–µ—Ç–∞
3. 2. –¢–∞–π–º–µ—Ä "–≤–Ω–µ —Å–º–µ–Ω—ã" –¥–ª—è –ø–æ–∑–¥–Ω–µ–≥–æ –≤—ã—Ö–æ–¥–∞ –æ—Å—Ç–∞–≤—å –∫–∞–∫ –µ—Å—Ç—å


---

## ‚úÖ –°–¢–ê–¢–£–° –†–ï–ê–õ–ò–ó–ê–¶–ò–ò:

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (24.12.2025):

#### 1. –õ–æ–≥–∏–∫–∞ ¬±10 –º–∏–Ω—É—Ç –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è —Å–º–µ–Ω—ã
**–§–∞–π–ª:** `backend/app/utils/hours_calculation.py`

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ `SHIFT_END_TOLERANCE_MINUTES = 10`
- –í —Ñ—É–Ω–∫—Ü–∏—é `split_session_by_shift()` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç–∏
- –ï—Å–ª–∏ –≤—ã—Ö–æ–¥ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö ¬±10 –º–∏–Ω—É—Ç –æ—Ç –∫–æ–Ω—Ü–∞ —Å–º–µ–Ω—ã ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç—Å—è –¥–æ –≤—Ä–µ–º–µ–Ω–∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å–º–µ–Ω—ã
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫

**–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:**
```
–°–º–µ–Ω–∞: 09:00 - 18:00
–í—ã—Ö–æ–¥ –≤ 17:56 ‚Üí —Å—á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ 18:00 (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Å–º–µ–Ω—ã)
–í—ã—Ö–æ–¥ –≤ 18:09 ‚Üí —Å—á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ 18:00 (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Å–º–µ–Ω—ã)
–í—ã—Ö–æ–¥ –≤ 18:15 ‚Üí —Å—á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ 18:15 (–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞)
```

---

#### 2. Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–µ—Å—Å–∏—è—Ö
**–§–∞–π–ª:** `backend/app/tasks/auto_close_sessions.py`

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `check_and_notify_unclosed_sessions()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ 00:00
- –°–æ–∑–¥–∞–Ω–∞ –≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `auto_close_sessions_daily()` –¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:
  - **00:00** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–µ—Å—Å–∏–π –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram
  - **00:01** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —Å—Ç–∞—Ä—ã—Ö —Å–µ—Å—Å–∏–π
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ `main.py` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–§–æ—Ä–º–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
```
‚ö†Ô∏è –ù–ï–ó–ê–ö–†–´–¢–´–ï –°–ï–°–°–ò–ò ‚ö†Ô∏è

–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–µ—Å—Å–∏–π: 2

‚Ä¢ Zulfi
  –í—Ö–æ–¥: 23.12.2025 09:15
  –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ: –ì–ª–∞–≤–Ω—ã–π –≤—Ö–æ–¥

‚Ä¢ –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω
  –í—Ö–æ–¥: 23.12.2025 14:30
  –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ: –û—Ñ–∏—Å 2 —ç—Ç–∞–∂

–≠—Ç–∏ —Å–µ—Å—Å–∏–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã—Ç—ã —á–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É.
```

---

### üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
- –û–±–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞
- Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –±–æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω (TELEGRAM_BOT_TOKEN)
- –õ–æ–≥–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å Baku (UTC+4) –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏

---

–•–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —è –Ω–∞—á–∞–ª —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é? –° —á–µ–≥–æ –Ω–∞—á–Ω–µ–º?

